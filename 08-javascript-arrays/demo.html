<html>
    <head>
        <title>JS arrays</title>
    </head>

    <body>
        <h2>Testing arrays with JS</h2>

        <script type="text/javascript">
            // arr1
            const arr1 = [15, 32, 97, 123]
            console.log(arr1)
            // arr2
            const arr2 = new Array('abc', 'd', 'efg', 'hijhk')
            console.log(arr2)
            const arr = ['Robot', 'ROS', 'Navigation', 'SLAM']

            console.log('--- For in ---')
            for (let index in arr) {
                console.log(`value at ${index} is ${arr[index]}`)
            }

            console.log('--- While ---')
            // arr.length returns the number of elements inside the array
            let i
            while (i < arr.length) {
                console.log(`value is ${arr[i]}`)
                i++
            }

            console.log('--- For of ---')
            for (let value of arr) {
                console.log(`value is ${value}`)
            }

            console.log('--- .forEach ---')
            const forEachCallback = (value, index, arrRef) => {
                console.log(`value at ${index} is ${arr[index]}`)
            }
            arr.forEach(forEachCallback)
            // original array
            const arr3 = ['Robot', 'ROS', 'Navigation', 'SLAM']

            // push to the beginning
            console.log(arr3)
            const ret_unshift = arr3.unshift('The Construct')
            // It returns the new length of the array
            console.log(ret_unshift)

            // push to the end
            const ret_push = arr.push('Rocks!')
            console.log(arr3)
            // It returns the new length of the array
            console.log(ret_push)

            // remove from the beginning
            const ret_shift = arr3.shift()
            console.log(arr3)
            // It returns the removed element
            console.log(ret_shift)

            // remove from the end
            const ret_pop = arr3.pop()
            console.log(arr3)
            // It returns the removed element
            console.log(ret_pop)

            console.log('Do not copy using =')
            const arr4 = [1, 2, 3, 4, 5]
            const arr5 = arr4
            arr2.pop()
            console.log(arr4)

            console.log('Copy using the spread operator')
            const arr6 = [1, 2, 3, 4, 5]
            const arr7 = [...arr6]
            arr4.pop()
            console.log(arr6)

            //find and filter
            const arr8 = [1, 2, 3, 4, 5]
            const callbackFn = (element) => {
                return element % 2 != 0
            }
            const oddValues = arr8.filter(callbackFn)
            console.log(oddValues)

            //reduce
            const arr9 = [34, 54, 123, -98, 0, 75, -86]
            const callbackFn_1 = (acc, currentValue) => {
                return acc + currentValue
            }
            const mean = arr.reduce(callbackFn_1) / arr.length
            console.log(mean)

            //map
            const arr10 = [
            {price: 5000, key: 'Turtlebot 3'},
            {price: 4500, key: 'ROSBot'},
            {price: 25000, key: 'UR5'},
            {price: 40000, key: 'KUKA'},
            ]
            const mapFn = (element) => {
                return element.price
            }   
            const prices = arr10.map(mapFn)
            console.log(prices)

        </script>
    </body>
</html>